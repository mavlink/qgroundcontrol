# QGroundControl CMake Formatting Configuration
# Used by cmake-format for consistent CMake file formatting
# Install: pip install cmake-format

format:
  line_width: 120
  tab_size: 4
  max_prefix_chars: 40
  use_tabchars: false
  dangle_parens: true
  dangle_align: prefix
  max_subgroups_hwrap: 2
  max_pargs_hwrap: 6
  separate_ctrl_name_with_space: false
  separate_fn_name_with_space: false
  command_case: canonical

parse:
  additional_commands:
    # CPM Package Manager commands
    cpmaddpackage:
      pargs:
        nargs: '*'
        flags: []
      spelling: CPMAddPackage
      kwargs: &cpmaddpackagekwargs
        NAME: 1
        FORCE: 1
        VERSION: 1
        GIT_TAG: 1
        DOWNLOAD_ONLY: 1
        GITHUB_REPOSITORY: 1
        GITLAB_REPOSITORY: 1
        GIT_REPOSITORY: 1
        SVN_REPOSITORY: 1
        SVN_REVISION: 1
        SOURCE_DIR: 1
        DOWNLOAD_COMMAND: 1
        FIND_PACKAGE_ARGUMENTS: 1
        NO_CACHE: 1
        GIT_SHALLOW: 1
        URL: 1
        URL_HASH: 1
        URL_MD5: 1
        DOWNLOAD_NAME: 1
        DOWNLOAD_NO_EXTRACT: 1
        HTTP_USERNAME: 1
        HTTP_PASSWORD: 1
        OPTIONS: +
    cpmfindpackage:
      pargs:
        nargs: '*'
        flags: []
      spelling: CPMFindPackage
      kwargs: *cpmaddpackagekwargs

    # Qt macros
    qt_add_qml_module:
      pargs:
        nargs: '1+'
      kwargs:
        URI: 1
        VERSION: 1
        QML_FILES: +
        SOURCES: +
        RESOURCES: +
        OUTPUT_DIRECTORY: 1
        RESOURCE_PREFIX: 1

    qt_add_resources:
      pargs:
        nargs: '2+'
      kwargs:
        PREFIX: 1
        FILES: +

markup:
  enable_markup: false

lint:
  disabled_codes: []
  function_pattern: '[0-9a-z_]+'
  macro_pattern: '[0-9A-Z_]+'
  global_var_pattern: '[A-Z][0-9A-Z_]+'
  internal_var_pattern: '_[A-Z][0-9A-Z_]+'
  local_var_pattern: '[a-z][a-z0-9_]+'
  private_var_pattern: '_[0-9a-z_]+'
  public_var_pattern: '[A-Z][0-9A-Z_]+'
  keyword_pattern: '[A-Z][0-9A-Z_]+'
  max_conditionals_custom_parser: 2
  min_statement_spacing: 1
  max_statement_spacing: 2
