version: 1

project:
  name: QGroundControl
  version: Daily

build:
  cmake:
    source_dir: src/
    extra_variables:
      # Qt6_ROOT should be set via environment variable from centralized config
      - Qt6_ROOT=${QT_ROOT_DIR:-/opt/Qt/gcc_64}
  environment:
    BUILD_TYPE: Release

appimage:
  linuxdeploy:
    plugins:
      - qt
    raw_environment:
      QML_SOURCES_PATHS: "\"$PROJECT_ROOT\"/src"
    environment:
      # Qt 6.10+ renamed wayland plugins: libqwayland-egl.so/libqwayland-generic.so -> libqwayland.so
      EXTRA_PLATFORM_PLUGINS: "libqwayland.so"
